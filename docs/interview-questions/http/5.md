# HTTP和HTTPS

## HTTP

HTTP(HyperText Transfer Protocol)，即超文本运输协议，是实现网络通信的一种规范

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/52022-04-12-11-23-19.png" alt="52022-04-12-11-23-19" width="" height="" />

在计算机和网络时间中，存在不同的协议，如广播协议、询址协议、路由协议等...

而HTTP是一个传输协议，即将数据由A传到B或将B传输到A，并且A与B之间能够存放很多第三方，如：A<=>X<=>Y<=>Z<=>B。

传输的数据并不是计算机底层的二进制包，而是完整的、有意义的数据，如HTML文件，图片文件，查询结果超文本，能够被上层应用识别。

在实际应用中，HTTP常被用于在Web浏览器和网站服务器之间传输信息，以明文方式发送内容，不提供任何方式的数据加密。

特点如下：

* 支持客户/服务器模式。
* 简单快速：客户向服务器发送请求时，只需传送请求方法和路径。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快
* 灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记
* 无连接：无连接的含义是限制每次连接只处理一个请求，服务器处理完客户端的请求，并收到客户端的应答后，即断开连接。采用这种方式可以节省传输时间。
* 无状态：HTTP协议无法根据之前的状态进行本次的请求处理。

## HTTPS

在上述了解HTTP中，了解到HTTP传递信息是以明文的形式发送内容，这并不安全。而HTTPS出现正是为了解决HTTP不安全的特性。

为了保证这些隐私数据能加密传输，让HTTP运行安全的SSL/TLS协议上，即HTTPS = HTTP + SSL/TLS，通过SSL证书来验证服务器的身份，并为浏览器和服务器之间的通信进行加密。

SSL协议位于TCP/IP协议与各种应用层协议之间，浏览器和服务器在使用SSL建立连接时需要选择一组恰当的加密算法来实现安全通信，为数据通讯提供安全支持。

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/52022-04-12-11-46-13.png" alt="52022-04-12-11-46-13" width="" height="" />

流程图如下所示：

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/52022-04-12-11-47-04.png" alt="52022-04-12-11-47-04" width="" height="" />

* 首先客户端通过URL访问服务器建立SSL连接。
* 服务器收到客户端请求后，会将网站支持的证书信息（证书中包含公钥）传送一份给客户端。
* 客户端的服务器开始协商SSL连接的安全等级，也就是信息加密的等级。
* 客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥，并传送给网站。
* 服务器利用自己的私钥解密出会话密钥。
* 服务器利用会话密钥加密与客户端之间的通信。

## 总结

* HTTPS是HTTP协议的安全版本，HTTP协议的数据传输是明文的，是不安全的，HTTPS使用SSL/TLS协议进行加密处理，相对更安全。
* HTTP和HTTPS使用连接方式不同，默认端口也不一样，HTTP是80，HTTPS是443.
* HTTPS由于需要设计加密以及多次握手，性能方面不如HTTP
* HTTPS需要SSL，SSL证书需要钱，功能越强大的证书费用越高。