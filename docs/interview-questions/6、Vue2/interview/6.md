# 6.生成模版编译函数

``` js
// vue.js
function Vue(options) {
  this.$options = options

  initData(this)

  if(this.$options.el) {
    this.$mount(this.$options.el)
  }
}

Vue.prototype.$mount = function(el) {
  const vm = this
  const options = vm.$options

  el = document.querySelector(el)

  let template = options.template
  if(!template && el) {
    template = el.outerHTML
  }
  let render = compileToFunction(template)
  options.render = render
}
```

``` js
// compiler.js
const ncname = `[a-zA-Z_][\\-\\-.0-9_a-zA-Z]*`
const qnameCapture = `((?:${ncname}\\:)?${ncname})`
const startTagOpen = new RegExp(`^<${qnameCaputer}`)
function compileToFunction(template) {
  parseHTML(template)
}
function parseHTML(html) {
  function advance(len) {
    html = html.substring(len)
  }
  function parseStartTag(){
    const start = html.match(startTagOpen)
  }
}
```