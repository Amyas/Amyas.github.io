{"version":3,"file":"vue.js","sources":["../src/compiler/parse.js","../src/compiler/generate.js","../src/compiler/index.js","../src/utils.js","../src/observer/array.js","../src/observer/dep.js","../src/observer/index.js","../src/state.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*` // 标签名\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})` // 用来获取的标签名\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 匹配开始标签\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配闭合标签\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\nconst startTagClose = /^\\s*(\\/?)>/\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nlet root = null\nlet stack = []\nfunction createAstElement(tagName, attrs) {\n  return {\n    tag: tagName,\n    type: 1, // 元素：1，文本：3\n    children: [],\n    parent: null,\n    attrs\n  }\n}\n\nfunction start(tagName, attributes) {\n  let parent = stack[stack.length - 1]\n  let element = createAstElement(tagName, attributes)\n  if(!root) {\n    root = element\n  }\n  if(parent) {\n    element.parent = parent\n    parent.children.push(element)\n  }\n  stack.push(element)\n}\nfunction end(tagName) {\n  let last = stack.pop()\n  if(last.tag !== tagName) {\n    throw new Error(\"标签闭合错误\")\n  }\n}\nfunction chars(text) {\n  text = text.replace(/\\s/g, \"\")\n  let parent = stack[stack.length - 1]\n  if(text) {\n    parent.children.push({\n      type: 3, // 元素：1，文本：3\n      text\n    })\n  }\n}\n\nexport function parseHTML(html){\n  function advance(len) {\n    html = html.substring(len)\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    if(start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length) // 删除已经匹配的开始标签\n\n      let end\n      let attr\n      while(!(end = html.match(startTagClose)) && (attr = html.match(attribute))) { // 没有遇到标签结尾\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5]\n        })\n        advance(attr[0].length)\n      }\n      if(end) {\n        advance(end[0].length)\n      }\n      return match\n    }\n    return false // 不是开始标签\n  }\n\n  while(html) {\n    let textEnd = html.indexOf('<')\n    if(textEnd === 0) {\n      const startTagMatch = parseStartTag() // 解析开始标签\n      if(startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue;\n      }\n\n      const endTagMatch = html.match(endTag)// 解析结束标签\n      if(endTagMatch) {\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n        continue;\n      }\n    }\n    let text\n    if(textEnd > 0) {\n      text = html.substring(0, textEnd)\n    }\n    if(text) {\n      chars(text)\n      advance(text.length)\n    }\n  }\n\n  return root\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\n\nfunction genProps(attrs) {\n  let str = ''\n  for(let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i]\n    if(attr.name === 'style') {\n      let styleObj = {}\n      attr.value.replace(/([^;:]+)\\:([^;:]+)/g, function(){\n        styleObj[arguments[1]] = arguments[2]\n      })\n      attr.value = styleObj\n    }\n    str+= `${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0, -1)}}`\n}\n\nfunction gen(el) {\n  if(el.type === 1) {\n    return generate(el)\n  } else {\n    let text = el.text\n    if(!defaultTagRE.test(text)) {\n      return `_v(\"${text}\")`\n    } else {\n      let tokens = []\n      let match\n      let lastIndex = defaultTagRE.lastIndex = 0 // defaultTagRE 最后的/g后和exec冲突，导致第一次exec正常，第二次失效\n      while(match = defaultTagRE.exec(text)) {\n        let index = match.index\n        if(index > lastIndex) {\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n        }\n        tokens.push(`_s(${match[1].trim()})`) // _s JSON.stringify()\n        lastIndex = index + match[0].length\n      }\n      if(lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\n      }\n      return `_v(${tokens.join('+')})`\n    }\n  }\n}\n\nfunction genChildren(el){\n  let children = el.children\n  if(children) {\n    return children.map(c=>gen(c)).join(',')\n  }\n  return false\n}\n\nexport function generate(el) {\n  let children = genChildren(el)\n  let code = `_c(\"${el.tag}\", ${\n    el.attrs.length ? genProps(el.attrs) : 'undefined'\n  }${\n    children ? `,${children}` : \"\"\n  })`\n\n  return code\n}","import { parseHTML } from './parse'\nimport { generate } from './generate'\n\nexport function compileToFunction(template) {\n  let root = parseHTML(template)\n\n  let code = generate(root)\n\n  let render = new Function(`with(this){return ${code}}`)\n\n  return render\n}","export function isFunction(value) {\n  return typeof value === 'function'\n}\n\nexport function isObject(value) {\n  return typeof value === 'object' && typeof value !== null\n}","let oldArrayMethods = Array.prototype\nexport let arrayMethods = Object.create(Array.prototype)\n\nconst methods = [\n  'push',\n  'pop',\n  'unshift',\n  'shift',\n  'reverse',\n  'splice',\n  'sort'\n]\n\nmethods.forEach(method=>{\n  arrayMethods[method] = function(...args) {\n    oldArrayMethods[method].call(this, ...args)\n    let inserted;\n    let ob = this.__ob__\n\n    switch(method){\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break;\n      default:\n        break;\n    }\n\n    if(inserted) {\n      ob.observeArray(inserted)\n    }\n  }\n})","let id = 0\n\nexport default class Dep {\n  constructor(){\n    this.id = id++\n    this.subs = [] // 用来存放watcher\n  }\n\n  depend(){\n    if(Dep.target) {\n      Dep.target.addDep(this)\n    }\n  }\n\n  addSub(watcher){\n    this.subs.push(watcher)\n  }\n\n  notify(){\n    this.subs.forEach(watcher=>watcher.update())\n  }\n}\n\nDep.target = null\n\nexport function pushTarget(watcher) {\n  Dep.target = watcher\n}\n\nexport function popTarget(){\n  Dep.target = null\n}","import {isObject} from '../utils'\nimport {arrayMethods} from './array'\nimport Dep from './dep'\n\nexport function observe(data) {\n  if(!isObject(data)) return\n\n  if(data.__ob__) return\n\n  return new Observer(data)\n}\n\nclass Observer {\n  constructor(data) {\n    Object.defineProperty(data,'__ob__',{\n      value: this,\n      enumerable: false\n    })\n    if(Array.isArray(data)) {\n      data._proto_ = arrayMethods\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  observeArray(data) {\n    data.forEach(item=>observe(item))\n  }\n  walk(data) {\n    Object.keys(data).forEach(key=>{\n      defineProperty(data,key,data[key])\n    })\n  }\n}\n\nfunction defineProperty(data,key,value) {\n  observe(value)\n  let dep = new Dep()\n  Object.defineProperty(data,key,{\n    get(){\n      if(Dep.target) {\n        dep.depend()\n      }\n      return value\n    },\n    set(newValue) {\n      if(newValue !== value) {\n        observe(newValue)\n        value = newValue\n        dep.notify()\n      }\n    }\n  })\n}","import {isFunction} from './utils'\nimport {observe} from './observer/index'\n\nexport function initState(vm) {\n  const opts = vm.$options\n  if(opts.data) {\n    initData(vm)\n  }\n}\n\nfunction initData(vm) {\n  let data = vm.$options.data\n\n  data = vm._data = isFunction(data) ? data.call(vm) : data\n\n  for(let key in data) {\n    proxy(vm,'_data',key)\n  }\n\n  observe(data)\n}\n\nfunction proxy(vm,source,key) {\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[source][key]\n    },\n    set(newValue) {\n      vm[source][key] = newValue\n    }\n  })\n}","import { popTarget, pushTarget } from \"./dep\"\n\nlet id = 0\n\nexport default class Watcher {\n  constructor(vm, exprOrFn, callback, options) {\n    this.vm = vm\n    this.exprOrFn = exprOrFn\n    this.callback = callback\n    this.options = options\n    this.id = id++\n\n    this.getter = exprOrFn\n\n    this.deps = []\n    this.depsId = new Set()\n\n    this.get() // 默认初始化取值\n  }\n\n  get(){\n    pushTarget(this)\n    this.getter()\n    popTarget()\n  }\n\n  update(){\n    this.get()\n  }\n\n  addDep(dep) {\n    let id = dep.id\n    if(!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep)\n      dep.addSub(this)\n    }\n  }\n}","export function patch(oldVnode, vnode){\n  if(oldVnode.nodeType === 1) { // 真是元素，第一次更新\n    // 用vnode来生成真实dom替换原来的dom元素\n    \n    const parentEl = oldVnode.parentNode\n\n    let elm = createElm(vnode) // 根据虚拟节点创建元素\n    parentEl.insertBefore(elm, oldVnode.nextSibling)\n\n    parentEl.removeChild(oldVnode)\n\n    return elm\n  }\n}\n\nfunction createElm(vnode) {\n  let {\n    tag,\n    data,\n    children,\n    text,\n    vm\n  } = vnode\n\n  if(typeof tag === 'string') { // 元素\n    vnode.el = document.createElement(tag)\n\n    children.forEach(child=>{\n      vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n\n  return vnode.el\n}","import Watcher from './observer/watcher'\nimport {patch} from './vdom/patch'\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function(vnode) {\n    // 既有初始化又有更新\n    const vm = this\n    vm.$el = patch(vm.$el, vnode)\n  }\n}\n\nexport function mountComponent(vm, el) {\n  // 更新函数，数据变化后，再次调用此函数\n  let updateComponent = () => {\n    // 调用render函数，生成虚拟dom\n    vm._update(vm._render()) // 后续更新可以调用updateComponent\n\n    // 用虚拟dom生成真是dom\n  }\n\n  new Watcher(vm, updateComponent, ()=>{\n    console.log('更新视图了')\n  }, true) // 是一个渲染watcher\n}","import { compileToFunction } from './compiler/index'\nimport {initState} from './state'\nimport { mountComponent } from './lifecycle'\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function(options) {\n    const vm = this\n    vm.$options = options\n\n    initState(vm)\n\n    if(vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n    \n  }\n\n  Vue.prototype.$mount = function(el) {\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el)\n    vm.$el = el\n\n    if(!options.render) {\n      let template = options.template\n      if(!template && el) {\n        template = el.outerHTML\n        let render = compileToFunction(template)\n        options.render = render\n      }\n    }\n    \n    mountComponent(vm, el) // 组建挂在\n  }\n}","export function createElement(vm, tag, data = {}, ...children){\n  return vnode(vm,tag,data,data.key,children,undefined)\n}\nexport function createTextElement(vm, text){\n  return vnode(vm,undefined,undefined,undefined,undefined,text)\n}\nfunction vnode(vm, tag,data,key,children,text) {\n  return {\n    vm,\n    tag,\n    data,\n    key,\n    children,\n    text\n  }\n}","import {createElement,createTextElement} from './vdom/index'\n\nexport function renderMixin(Vue){\n  Vue.prototype._c = function(){ // createElement\n    return createElement(this, ...arguments)\n  }\n  Vue.prototype._v = function(text){ // createTextElement\n    return createTextElement(this, text)\n  }\n  Vue.prototype._s = function(val){ // stringify\n    if(typeof val === 'object') {\n      return JSON.stringify(val)\n    }\n    return val\n  }\n  Vue.prototype._render = function(){\n    const vm = this\n    let render = vm.$options.render // compileToFunction执行结果\n\n    let vnode = render.call(vm)\n    return vnode\n  }\n}","import {initMixin} from './init'\nimport {lifecycleMixin} from './lifecycle'\nimport {renderMixin} from './render'\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\nrenderMixin(Vue) // _render\nlifecycleMixin(Vue) // _update\n\nexport default Vue"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","root","stack","createAstElement","tagName","attrs","tag","type","children","parent","start","attributes","length","element","push","end","last","pop","Error","chars","text","replace","parseHTML","html","advance","len","substring","parseStartTag","match","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","i","styleObj","arguments","JSON","stringify","slice","gen","el","generate","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","c","code","compileToFunction","template","render","Function","isFunction","isObject","oldArrayMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","call","inserted","ob","__ob__","observeArray","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","observe","data","Observer","defineProperty","enumerable","isArray","_proto_","walk","item","keys","key","dep","get","depend","set","newValue","notify","initState","vm","opts","$options","initData","_data","proxy","source","Watcher","exprOrFn","callback","options","getter","deps","depsId","Set","has","add","addSub","patch","oldVnode","vnode","nodeType","parentEl","parentNode","elm","createElm","insertBefore","nextSibling","removeChild","document","createElement","child","appendChild","createTextNode","lifecycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","console","log","initMixin","_init","$mount","querySelector","outerHTML","undefined","createTextElement","renderMixin","_c","_v","_s","val"],"mappings":"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"}