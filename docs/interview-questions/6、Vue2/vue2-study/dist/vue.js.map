{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observer/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function isFunction(value) {\n  return typeof value === 'function'\n}\n\nexport function isObject(value) {\n  return typeof value === 'object' && typeof value !== null\n}","import {isObject} from '../utils'\n\nexport function observe(data) {\n  if(!isObject(data)) return\n\n  return new Observer(data)\n}\n\nclass Observer {\n  constructor(data) {\n    this.walk(data)\n  }\n  walk(data) {\n    Object.keys(data).forEach(key=>{\n      defineProperty(data,key,data[key])\n    })\n  }\n}\n\nfunction defineProperty(data,key,value) {\n  observe(value)\n  Object.defineProperty(data,key,{\n    get(){\n      return value\n    },\n    set(newValue) {\n      observe(newValue)\n      value = newValue\n    }\n  })\n}","import {isFunction} from './utils'\nimport {observe} from './observer/index'\n\nexport function initState(vm) {\n  const opts = vm.$options\n  if(opts.data) {\n    initData(vm)\n  }\n}\n\nfunction initData(vm) {\n  let data = vm.$options.data\n\n  data = vm._data = isFunction(data) ? data.call(vm) : data\n\n  for(let key in data) {\n    proxy(vm,'_data',key)\n  }\n\n  observe(data)\n}\n\nfunction proxy(vm,source,key) {\n  Object.defineProperty(vm,key,{\n    get(){\n      return vm[source][key]\n    },\n    set(newValue) {\n      vm[source][key] = newValue\n    }\n  })\n}","import {initState} from './state'\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function(options) {\n    const vm = this\n    vm.$options = options\n\n    initState(vm)\n  }\n}","import {initMixin} from './init'\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\n\nexport default Vue"],"names":["isFunction","value","isObject","observe","data","Observer","walk","Object","keys","forEach","key","defineProperty","get","set","newValue","initState","vm","opts","$options","initData","_data","call","proxy","source","initMixin","Vue","prototype","_init","options"],"mappings":"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"}