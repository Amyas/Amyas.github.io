# 1.辅助函数

## 基本原理

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-56-00.png" alt="12022-08-30-16-56-00" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-56-19.png" alt="12022-08-30-16-56-19" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-56-37.png" alt="12022-08-30-16-56-37" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-56-49.png" alt="12022-08-30-16-56-49" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-57-05.png" alt="12022-08-30-16-57-05" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/12022-08-30-16-57-19.png" alt="12022-08-30-16-57-19" width="" height="" />

## Code

```java
package com.amyas;

public class RBTree<E> extends BST<E> {
  private static final boolean RED = false;
  private static final boolean BLACK = true;

  public RBTree() {
  }

  public RBTree(Comparator<E> comparator) {
    super(comparator);
  }

  private Node<E> color(Node<E> node, boolean color) {
    if (node == null) {
      return node;
    }
    ((RBNode<E>) node).color = color;
    return node;
  }

  private Node<E> red(Node<E> node) {
    return color(node, RED);
  }

  private Node<E> black(Node<E> node) {
    return color(node, BLACK);
  }

  private boolean colorOf(Node<E> node) {
    return node == null ? BLACK : ((RBNode<E>) node).color;
  }

  private boolean isBlack(Node<E> node) {
    return colorOf(node) == BLACK;
  }

  private boolean isRed(Node<E> node) {
    return colorOf(node) == RED;
  }

  private static class RBNode<E> extends Node<E> {
    boolean color;

    public RBNode(E element, Node<E> parent) {
      super(element, parent);
    }
  }
}
```

```java
package com.amyas;

public class BinaryTree<E> implements BinaryTreeInfo {
  protected static class Node<E> {
    public Node<E> sibling() {
      if (isLeftChild()) {
        return parent.right;
      }

      if (isRightChild()) {
        return parent.left;
      }

      return null;
    }
  }
}
```
