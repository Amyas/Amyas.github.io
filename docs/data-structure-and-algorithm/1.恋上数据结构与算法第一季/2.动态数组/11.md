# 11.clear细节

## clear细节

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/112022-08-11-11-08-17.png" alt="112022-08-11-11-08-17" width="" height="" />

<img src="https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/112022-08-11-11-08-32.png" alt="112022-08-11-11-08-32" width="" height="" />

## Code

```java
package com.amyas;

public class ArrayList<E> {
  public void clear() {
    for (int i = 0; i < size; i++) {
      elements[i] = null;
    }
    size = 0;
  }
}
```

```java
package com.amyas;

public class Main {

	public static void main(String[] args) {
		ArrayList<Person> persons = new ArrayList<>();
		persons.add((new Person(10, "amyas1")));
		persons.add((new Person(11, "amyas2")));
		persons.add((new Person(12, "amyas3")));
		persons.clear();

		// 提醒JMV垃圾回收
		System.gc();
	}

}
```

```java
package com.amyas;

public class Person {
  ...

  @Override
  protected void finalize() throws Throwable {
    super.finalize();
    System.out.println("Person - finalize");
  }
}
```
