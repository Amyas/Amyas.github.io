(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{403:function(t,_,v){"use strict";v.r(_);var s=v(13),a=Object(s.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"_5、从输入url到页面渲染都发生了什么"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5、从输入url到页面渲染都发生了什么"}},[t._v("#")]),t._v(" 5、从输入URL到页面渲染都发生了什么")]),t._v(" "),_("h2",{attrs:{id:"_1、简单分析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、简单分析"}},[t._v("#")]),t._v(" 1、简单分析")]),t._v(" "),_("p",[t._v("从输入URL到回撤后发生的行为如下：")]),t._v(" "),_("ol",[_("li",[t._v("URL解析")]),t._v(" "),_("li",[t._v("DNS查询")]),t._v(" "),_("li",[t._v("TCP连接")]),t._v(" "),_("li",[t._v("HTTP请求")]),t._v(" "),_("li",[t._v("响应请求")]),t._v(" "),_("li",[t._v("页面渲染")])]),t._v(" "),_("h2",{attrs:{id:"_2、详情分析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、详情分析"}},[t._v("#")]),t._v(" 2、详情分析")]),t._v(" "),_("h3",{attrs:{id:"_1、url解析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、url解析"}},[t._v("#")]),t._v(" 1、URL解析")]),t._v(" "),_("p",[t._v("首先判断你输入的是一个合法的"),_("code",[t._v("URL")]),t._v("还是一个待搜索的关键词，并且根据你输入的内容进行对应操作")]),t._v(" "),_("p",[_("code",[t._v("URL")]),t._v("的解析是过程中的第一步，一个"),_("code",[t._v("URL")]),t._v("的结构解析如下：")]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-11-23-02.png",alt:"js2022-04-07-11-23-02",width:"",height:""}}),t._v(" "),_("h3",{attrs:{id:"_2、dns查询"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、dns查询"}},[t._v("#")]),t._v(" 2、DNS查询")]),t._v(" "),_("p",[t._v("参考"),_("RouterLink",{attrs:{to:"/interview-questions/0、HTTP/js.html#_23、DNS协议是什么？说说DNS完整的查询过程？"}},[t._v("DNS协议是什么？说说DNS完整的查询过程？")])],1),t._v(" "),_("p",[t._v("整个查询过程如下图所示：")]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-12-24-35.png",alt:"js2022-04-07-12-24-35",width:"",height:""}}),t._v(" "),_("p",[t._v("最终，获取到域名对应的目标服务器"),_("code",[t._v("IP")]),t._v("地址")]),t._v(" "),_("h3",{attrs:{id:"_3、tcp连接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、tcp连接"}},[t._v("#")]),t._v(" 3、TCP连接")]),t._v(" "),_("p",[t._v("在确定目标服务器的"),_("code",[t._v("IP")]),t._v("地址后，则经理三次握手简历"),_("code",[t._v("TCP")]),t._v("连接，流程如下：")]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-14-25-55.png",alt:"js2022-04-07-14-25-55",width:"",height:""}}),t._v(" "),_("h3",{attrs:{id:"_4、http请求"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4、http请求"}},[t._v("#")]),t._v(" 4、HTTP请求")]),t._v(" "),_("p",[t._v("当建立"),_("code",[t._v("TCP")]),t._v("连接之后，就可以在这基础上进行通信，浏览器发送"),_("code",[t._v("HTTP")]),t._v("请求到目标服务器")]),t._v(" "),_("p",[t._v("请求的内容包括：")]),t._v(" "),_("ul",[_("li",[t._v("请求行")]),t._v(" "),_("li",[t._v("请求头")]),t._v(" "),_("li",[t._v("请求主体")])]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-14-27-47.png",alt:"js2022-04-07-14-27-47",width:"",height:""}}),t._v(" "),_("h3",{attrs:{id:"_5、响应请求"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5、响应请求"}},[t._v("#")]),t._v(" 5、响应请求")]),t._v(" "),_("p",[t._v("当服务器接收到浏览器的请求之后，就会进行逻辑操作，处理完成之后返回一个"),_("code",[t._v("HTTP")]),t._v("响应消息，包括：")]),t._v(" "),_("ul",[_("li",[t._v("状态行")]),t._v(" "),_("li",[t._v("响应头")]),t._v(" "),_("li",[t._v("响应正文")])]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-14-28-54.png",alt:"js2022-04-07-14-28-54",width:"",height:""}}),t._v(" "),_("p",[t._v("在服务器响应之后，由于现在"),_("code",[t._v("HTTP")]),t._v("默认开始长连接"),_("code",[t._v("keep-alive")]),t._v("，当页面关闭之后，"),_("code",[t._v("TCP")]),t._v("连接则会经过四次挥手完成断开")]),t._v(" "),_("h3",{attrs:{id:"_6、页面渲染"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6、页面渲染"}},[t._v("#")]),t._v(" 6、页面渲染")]),t._v(" "),_("p",[t._v("当浏览器接收到服务器响应的资源后，首先会对资源进行解析：")]),t._v(" "),_("ul",[_("li",[t._v("查看响应头的信息，根据不同的指示做对应处理，比如重定向，存储cookie，解压gzip，缓存资源等等。")]),t._v(" "),_("li",[t._v("查看响应头"),_("code",[t._v("Content-Type")]),t._v("的值，根据不同的资源类型采用不同的解析方式。")])]),t._v(" "),_("p",[t._v("关于页面的渲染过程如下：")]),t._v(" "),_("ul",[_("li",[t._v("解析HTML，构建DOM树")]),t._v(" "),_("li",[t._v("解析CSS，生成CSS规则树")]),t._v(" "),_("li",[t._v("合并DOM树和CSS规则树，生成render树")]),t._v(" "),_("li",[t._v("布局render树（Layout/reflowL：重排），负责各元素尺寸、位置的计算")]),t._v(" "),_("li",[t._v("绘制render树（paint：重绘），绘制页面像素信息")]),t._v(" "),_("li",[t._v("浏览器会将各层信息发送给GPU，GPU会将各层合成（composite），显示在屏幕上")])]),t._v(" "),_("img",{attrs:{src:"https://raw.githubusercontent.com/Amyas/picgo-bed/master/amyas.github.io/js2022-04-07-14-33-54.png",alt:"js2022-04-07-14-33-54",width:"",height:""}})])}),[],!1,null,null,null);_.default=a.exports}}]);